generated: '2026-02-08T17:29:47.681763+00:00'
project: drive
project_key: NOKEY
tracking_system: file-system
story_location: _bmad-output/implementation-artifacts
development_status:
  epic-1: in-progress
  1-1-canonical-drive-public-url-validation-and-deterministic-derivations: done
  1-2-separate-allowlists-for-redirect-uris-vs-origins-hosts-derived-from-drive-public-url: done
  epic-1-retrospective: optional
  epic-2: in-progress
  2-1-docker-first-edge-contract-documentation-configuration-validation-smoke-checks: done
  2-2-nginx-reference-edge-configuration-dev-prod-aligned-for-media-auth-request-sigv4-propagation: done
  2-3-tls-posture-for-public-surfaces-prod-https-only-dev-override-explicit-no-mixed-modes: done
  2-4-docker-first-backup-restore-runbook-deterministic-post-restore-smoke-checklist: done
  2-5-docker-first-upgrade-rollback-runbook-deterministic-post-action-smoke-checklist: done
  epic-2-retrospective: optional
  epic-3: in-progress
  3-1-byo-oidc-authentication-refs-only-secrets-config-validation-smoke-login-proof: review
  3-2-entitlements-enforcement-for-access-and-uploads-api-ui-gating: review
  3-3-external-api-allowlist-for-resources-and-actions-strict-no-wildcards: review
  3-4-resource-server-mode-external-api-is-disabled-by-default-and-token-authenticated: ready-for-dev
  epic-3-retrospective: optional
  epic-4: backlog
  4-1-browse-workspaces-and-navigate-folders-deterministic-ordering-abilities-contract: ready-for-dev
  4-2-create-folders-in-the-explorer-capability-driven-clean-validation: ready-for-dev
  4-3-s3-presigned-upload-flow-create-file-presigned-put-upload-ended: ready-for-dev
  4-4-download-files-via-media-edge-contract-range-support: ready-for-dev
  4-5-preview-supported-files-via-media-preview-deterministic-availability: ready-for-dev
  4-6-operator-configurable-upload-part-chunk-sizing-documented-defaults-deterministic-validation: ready-for-dev
  epic-4-retrospective: optional
  epic-5: backlog
  5-1-time-bounded-long-running-operations-no-infinite-loading-with-actionable-fallback-states: ready-for-dev
  5-2-no-leak-error-contract-client-generic-operator-facing-failure-class-and-safe-evidence: ready-for-dev
  5-3-deterministic-recovery-patterns-for-uploads-and-media-edge-failures-cleanup-actionable-next-steps: ready-for-dev
  epic-5-retrospective: optional
  epic-6: backlog
  6-1-configure-s3-item-share-links-reach-role-and-publish-a-canonical-public-url: ready-for-dev
  6-2-open-s3-public-share-links-without-an-authenticated-session-token-enforced: ready-for-dev
  epic-6-retrospective: optional
  epic-7: backlog
  7-1-operator-configured-mounts-registry-mount-id-provider-enabled-with-deterministic-validation: ready-for-dev
  7-2-discover-mounts-and-capabilities-api-ui-entry-point-constants-enforced: ready-for-dev
  7-3-browse-mount-paths-with-deterministic-ordering-pagination-and-virtual-entry-identifiers: ready-for-dev
  7-4-enforce-capability-gating-across-mount-actions-no-dead-actions-deterministic-errors: ready-for-dev
  7-5-create-mountprovider-share-links-for-virtual-entries-capability-driven: ready-for-dev
  7-6-enforce-deterministic-public-mountprovider-share-link-semantics-404-410-and-out-of-band-change-behavior: ready-for-dev
  epic-7-retrospective: optional
  epic-8: backlog
  8-1-refs-only-secret-fields-for-mounts-never-store-return-log-secret-material: ready-for-dev
  8-2-centralized-secret-resolver-with-deterministic-precedence-file-env-and-bounded-refresh: ready-for-dev
  8-3-safe-connection-session-reuse-across-secret-rotation-no-stale-credentials-no-leaks: ready-for-dev
  epic-8-retrospective: optional
  epic-9: backlog
  9-1-smb-mount-configuration-schema-and-deterministic-validation-refs-only-secrets: ready-for-dev
  9-2-smb-provider-implements-the-mount-browse-contract-list-stat-with-deterministic-ordering: ready-for-dev
  9-3-smb-streaming-download-with-range-support-where-applicable: ready-for-dev
  9-4-smb-streaming-upload-large-file-capable-with-deterministic-finalize-semantics: ready-for-dev
  9-5-smb-preview-support-is-explicit-capability-driven-and-deterministic: ready-for-dev
  epic-9-retrospective: optional
  epic-10: backlog
  10-1-wopi-enablement-configuration-host-allowlist-https-posture-health-gating: ready-for-dev
  10-2-capability-driven-wopi-action-exposure-per-backend-no-dead-buttons: ready-for-dev
  10-3-reverse-proxy-compatible-wopi-launch-flow-with-short-lived-tokens: ready-for-dev
  10-4-s3-wopi-prerequisite-validation-bucket-versioning-with-operator-guidance: ready-for-dev
  10-5-mountprovider-wopi-semantics-version-string-locks-ttl-release-conflict-streaming-save-pipeline: ready-for-dev
  epic-10-retrospective: optional
  epic-11: in-progress
  11-1-drive-integrated-ct-s3-runner-with-explicit-audience-model-and-deterministic-reports: done
  11-2-encode-seaweedfs-as-the-blocking-baseline-profile-repeatable-checks-runbook-alignment: done
  11-3-safe-evidence-allow-listing-for-ct-s3-no-leak-by-construction: done
  epic-11-retrospective: optional
  epic-12: in-progress
  12-1-gates-runner-executes-stable-gate-ids-and-writes-deterministic-artifacts: review
  12-2-standardize-failure-class-next-action-hint-across-gates-and-operator-facing-artifacts: done
  12-3-strict-mirror-enforcement-bmad-registry-source-of-truth-github-fork-mirror-only: ready-for-dev
  12-4-wire-ct-s3-and-no-leak-scanning-into-ci-with-strict-scope-enforce-dependency-automation-policy: done
  epic-12-retrospective: optional
